# ‚öôÔ∏è –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ: Ansible + Nginx + VM

## üìã –¶–µ–ª—å
–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ Nginx –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ —Å –ø–æ–º–æ—â—å—é Ansible.

---

## üß± –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Ansible

```bash
sudo apt update
sudo apt install ansible -y
```

–ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
ansible --version
```

---

## üíª –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ü–û –¥–ª—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ VirtualBox –∏–ª–∏ –¥—Ä—É–≥–æ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏:

```bash
sudo apt install virtualbox -y
```

–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, Ubuntu Server). –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ SSH.

–ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ IP:
- IP: `192.168.56.10`
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: `vagrant`
- –ü–∞—Ä–æ–ª—å –∏–ª–∏ –∫–ª—é—á: `vagrant`

---

## üìÅ –®–∞–≥ 3: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ ansible-–ø—Ä–æ–µ–∫—Ç–∞

–°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É `task5` –∏ –¥–æ–±–∞–≤—å—Ç–µ —Ç—É–¥–∞ —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã:

```text
task5/
‚îú‚îÄ‚îÄ inventory.ini
‚îú‚îÄ‚îÄ playbook.yml
‚îî‚îÄ‚îÄ files/
    ‚îî‚îÄ‚îÄ index.html
```

---

## üìÑ inventory.ini

```ini
[web]
192.168.56.10 ansible_user=vagrant ansible_password=vagrant ansible_ssh_common_args='-o StrictHostKeyChecking=no'
```

---

## üìÑ playbook.yml

```yaml
- name: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx
  hosts: web
  become: true

  tasks:
    - name: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
      apt:
        update_cache: yes

    - name: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Nginx
      apt:
        name: nginx
        state: present

    - name: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω–æ–π index.html
      copy:
        src: files/index.html
        dest: /var/www/html/index.html
```

---

## üìù index.html

–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Å—Ç–æ–π HTML-—Ñ–∞–π–ª `task5/files/index.html`:
```html
<!DOCTYPE html>
<html>
<head><title>–£—Å–ø–µ—à–Ω–æ!</title></head>
<body><h1>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Ansible –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ üöÄ</h1></body>
</html>
```

---

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ –ø–ª–µ–π–±—É–∫–∞

```bash
ansible-playbook -i inventory.ini playbook.yml
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: [http://192.168.56.10](http://192.168.56.10) ‚Äî –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –∫–∞—Å—Ç–æ–º–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É.

---

**–ì–æ—Ç–æ–≤—ã–π –ø–ª–µ–π–±—É–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `task5/`.**