
# üõ† –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ: –õ–æ–≥–≥–µ—Ä –≤ Linux

## üìå –¶–µ–ª—å

–°–æ–∑–¥–∞—Ç—å Bash-—Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π:
- –°–æ–∑–¥–∞—ë—Ç –ø–∞–ø–∫—É `/opt/app`, –µ—Å–ª–∏ –µ—ë –Ω–µ—Ç
- –°–æ–∑–¥–∞—ë—Ç —Ñ–∞–π–ª `/opt/app/log.txt`, –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç
- –ö–∞–∂–¥—ã–µ 17 —Å–µ–∫—É–Ω–¥ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ —Ñ–∞–π–ª —Å–ª—É—á–∞–π–Ω—É—é —Å—Ç—Ä–æ–∫—É –¥–ª–∏–Ω–æ–π –æ—Ç 1 –¥–æ 20 —Å–∏–º–≤–æ–ª–æ–≤
- (*–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ*) –î–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É —á–µ—Ä–µ–∑ `systemd`

---

## üìÅ 1. –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–æ–º–∞—à–Ω—é—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é:
   ```bash
   cd /home/alex
   ```

2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `task3.sh`:
   ```bash
   nano task3.sh
   ```

3. –í—Å—Ç–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥:

   ```bash
   #!/bin/bash

   if test -d "/opt/app"; then
       echo "–ü–∞–ø–∫–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ .."
   else
       mkdir /opt/app
   fi

   if test -f "/opt/app/log.txt"; then
       echo "–§–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ .."
   else
       touch /opt/app/log.txt
   fi

   while true; do
       number=$(shuf -i 1-20 -n 1)
       tr -dc '[:graph:]' </dev/urandom | fold -w $number | head -n 1 >> /opt/app/log.txt
       sleep 17
   done
   ```

4. –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:
   ```bash
   chmod +x /home/alex/task3.sh
   ```

---

## ‚öôÔ∏è 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∏ —á–µ—Ä–µ–∑ `systemd`

1. –°–æ–∑–¥–∞–π—Ç–µ unit-—Ñ–∞–π–ª:
   ```bash
   sudo nano /etc/systemd/system/task3.service
   ```

2. –í—Å—Ç–∞–≤—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ:

   ```ini
   [Unit]
   Description=–ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ –ª–æ–≥–≥–µ—Ä–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–∏—Å—Ç–µ–º—ã
   After=network.target

   [Service]
   ExecStart=/home/alex/task3.sh
   Restart=on-failure
   Type=simple

   [Install]
   WantedBy=multi-user.target
   ```

3. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é systemd:
   ```bash
   sudo systemctl daemon-reexec
   ```

4. –í–∫–ª—é—á–∏—Ç–µ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É:
   ```bash
   sudo systemctl enable task3.service
   ```

5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Ä—É—á–Ω—É—é (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏):
   ```bash
   sudo systemctl start task3.service
   ```

6. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Å—Ç–∞—Ç—É—Å:
   ```bash
   sudo systemctl status task3.service
   ```

---

## üìé –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞                                  | –û–ø–∏—Å–∞–Ω–∏–µ                          |
|------------------------------------------|-----------------------------------|
| `sudo systemctl start task3.service`     | –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞                    |
| `sudo systemctl stop task3.service`      | –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–∞                 |
| `sudo systemctl restart task3.service`   | –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞                |
| `sudo systemctl status task3.service`    | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞                  |
| `sudo journalctl -u task3.service`       | –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ —Å–µ—Ä–≤–∏—Å–∞            |

---

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `/opt/app/log.txt`. –í –Ω—ë–º –∫–∞–∂–¥—ã–µ 17 —Å–µ–∫—É–Ω–¥ –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–ª—è—Ç—å—Å—è —Å–ª—É—á–∞–π–Ω–∞—è —Å—Ç—Ä–æ–∫–∞.

```bash
tail -f /opt/app/log.txt
```

---

‚úÖ **–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å –≤–∞—à —Å–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ñ–æ–Ω–µ –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–∏—Å—Ç–µ–º—ã.
